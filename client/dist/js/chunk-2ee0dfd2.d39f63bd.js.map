{"version":3,"sources":["webpack:///./src/views/user/MyProject.vue?daff","webpack:///./src/services/my.js","webpack:///./src/views/user/ProjectDetail.vue?c0b2","webpack:///src/views/user/ProjectDetail.vue","webpack:///./src/views/user/ProjectDetail.vue?41af","webpack:///./src/views/user/ProjectDetail.vue","webpack:///src/views/user/MyProject.vue","webpack:///./src/views/user/MyProject.vue?b022","webpack:///./src/views/user/MyProject.vue","webpack:///./src/views/user/ProjectDetail.vue?a9bb","webpack:///./src/views/user/MyProject.vue?8a9c"],"names":["MyProjectvue_type_template_id_3ab7e2bc_render","_vm","this","_h","$createElement","_c","_self","staticClass","directives","name","rawName","value","expression","attrs","fix","selectId","_v","_s","list","length","_l","item","key","id","on","click","$event","onSelect","back","onBack","_e","staticRenderFns","my","project","params","axios","get","score","post","ProjectDetailvue_type_template_id_367a65e4_render","staticStyle","float","icon","type","no","stage","user","time","deep","design_num","colspan","margin-top","show-icon","width","section","text-align","size","min","max","placeholder","model","callback","$$v","$set","getUserCount","getNumber","font-weight","color","getTotal","getSectionCount","onSubmit","ProjectDetailvue_type_template_id_367a65e4_staticRenderFns","ProjectDetailvue_type_script_lang_js_","props","data","sections","loading","computed","Object","objectSpread","vuex_esm","methods","render","_this","then","rep","initModel","$nextTick","_this2","users","forEach","_this3","count","toFixed","_this4","total","$emit","_this5","$Modal","confirm","title","content","onOk","push","$Message","success","mounted","user_ProjectDetailvue_type_script_lang_js_","component","componentNormalizer","options","__file","ProjectDetail","MyProjectvue_type_script_lang_js_","components","user_MyProjectvue_type_script_lang_js_","MyProject_component","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProjectDetail_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_ProjectDetail_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default","n","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MyProject_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_10_oneOf_1_0_node_modules_css_loader_index_js_ref_10_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_10_oneOf_1_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_MyProject_vue_vue_type_style_index_0_lang_less___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"js/chunk-2ee0dfd2.d39f63bd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-project\"},[_c('Spin',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"fix\":\"\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.selectId),expression:\"!selectId\"}],staticClass:\"my-project__header\"},[_vm._v(\"\\n    共有 \"),_c('span',[_vm._v(_vm._s(_vm.list.length))]),_vm._v(\" 个负责项目\\n  \")]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.selectId),expression:\"!selectId\"}],staticClass:\"my-project__content\"},_vm._l((_vm.list),function(item){return _c('div',{key:item.id,staticClass:\"my-project-list\",on:{\"click\":function($event){_vm.onSelect(item)}}},[_c('div',{staticClass:\"my-project-list__item\"},[_c('div',{staticClass:\"item__content\"},[_c('h5',[_vm._v(_vm._s(item.name))])]),_c('div',{staticClass:\"item__shadow\"})])])})),(_vm.selectId)?_c('project-detail',{attrs:{\"id\":_vm.selectId},on:{\"back\":_vm.onBack}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import axios from \"./axios\";\nexport default {\n  project: params => axios.get(`/user/project`, { params }),\n  score: params => axios.post(`/user/project/score`, params)\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"project-detail\"},[_c('Spin',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"fix\":\"\"}}),_c('div',{staticClass:\"project-detail__header\"},[_vm._v(\"\\n    \"+_vm._s(_vm.project.name)+\"\\n    \"),_c('Button',{staticStyle:{\"float\":\"right\"},attrs:{\"icon\":\"ios-arrow-back\",\"type\":\"primary\"},on:{\"click\":_vm.onBack}},[_vm._v(\"返回\")])],1),_c('Divider'),(_vm.project.id)?_c('div',{staticClass:\"project-detail__content\"},[_c('table',{staticClass:\"detail-table\"},[_c('tr',[_c('td',{staticClass:\"name\"},[_vm._v(\"项目编号：\")]),_c('td',[_vm._v(_vm._s(_vm.project.no))]),_c('td',{staticClass:\"name\"},[_vm._v(\"设计阶段：\")]),_c('td',[_vm._v(_vm._s(_vm.project.stage))]),_c('td',{staticClass:\"name\"},[_vm._v(\"负责人：\")]),_c('td',[_vm._v(_vm._s(_vm.project.user))]),_c('td',{staticClass:\"name\"},[_vm._v(\"时间段：\")]),_c('td',[_vm._v(_vm._s(_vm.project.time))])]),_c('tr',[_c('td',{staticClass:\"name\"},[_vm._v(\"深度：\")]),_c('td',[_vm._v(_vm._s(_vm.project.deep))]),_c('td',{staticClass:\"name\"},[_vm._v(\"设计量系数：\")]),_c('td',[_vm._v(_vm._s(_vm.project.design_num))]),_c('td',{staticClass:\"name\"},[_vm._v(\"工作量系数\")]),_c('td'),_c('td',{attrs:{\"colspan\":\"2\"}})])]),_c('Alert',{staticStyle:{\"margin-top\":\"15px\"},attrs:{\"show-icon\":\"\"}},[_vm._v(\"请认真填写项目报表。\")]),_c('table',{staticClass:\"project-table\"},[_c('tr',[_c('th',{staticStyle:{\"width\":\"100px\"}}),_vm._l((_vm.project.sections),function(section){return _c('th',{key:section.id},[_vm._v(\"\\n          \"+_vm._s(section.name)+\"\\n        \")])}),_c('th',[_vm._v(\"合计\")]),_c('th',{staticStyle:{\"width\":\"80px\"}},[_vm._v(\"负责人系数\")]),_c('th',{staticStyle:{\"width\":\"100px\"}},[_vm._v(\"最终\")])],2),_c('tr',[_c('td',{staticClass:\"name\"},[_vm._v(\"评价百分比\")]),_vm._l((_vm.project.sections),function(section){return _c('td',{key:section.id,staticClass:\"name\"},[_vm._v(\"\\n          \"+_vm._s(section.value)+\"%\\n        \")])}),_c('td'),_c('td'),_c('td')],2),_vm._l((_vm.users),function(user){return _c('tr',{key:user.id},[_c('td',[_vm._v(\"【\"+_vm._s(user.name)+\"】\")]),_vm._l((_vm.project.sections),function(section){return _c('td',{key:section.id,staticStyle:{\"text-align\":\"center\"}},[_c('InputNumber',{staticStyle:{\"width\":\"100px\"},attrs:{\"size\":\"small\",\"min\":0,\"max\":100,\"placeholder\":\"请输入\"},model:{value:(_vm.model[user.id][section.id]),callback:function ($$v) {_vm.$set(_vm.model[user.id], section.id, $$v)},expression:\"model[user.id][section.id]\"}}),_vm._v(\"\\n          %\\n        \")],1)}),_c('td',[_vm._v(_vm._s(_vm.getUserCount(user.id))+\" %\")]),_c('td',[_vm._v(_vm._s(_vm.getNumber(user.id)))]),_c('td',{staticStyle:{\"font-weight\":\"bold\",\"color\":\"#4d8dee\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.getTotal(user.id))+\" %\\n        \")])],2)}),_c('tr',[_c('td',{staticClass:\"name\"},[_vm._v(\"合计\")]),_vm._l((_vm.project.sections),function(section){return _c('td',{key:section.id,staticStyle:{\"text-align\":\"center\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.getSectionCount(section.id))+\" %\\n        \")])}),_c('td'),_c('td'),_c('td')],2)],2),_c('div',{staticStyle:{\"text-align\":\"right\"}},[_c('Button',{staticStyle:{\"margin-top\":\"20px\",\"width\":\"200px\"},attrs:{\"size\":\"large\",\"type\":\"success\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"提交\")])],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"project-detail\">\n    <Spin v-show=\"loading\" fix></Spin>\n    <div class=\"project-detail__header\">\n      {{ project.name }}\n      <Button\n        style=\"float: right\"\n        @click=\"onBack\"\n        icon=\"ios-arrow-back\"\n        type=\"primary\"\n        >返回</Button\n      >\n    </div>\n    <Divider></Divider>\n    <div class=\"project-detail__content\" v-if=\"project.id\">\n      <table class=\"detail-table\">\n        <tr>\n          <td class=\"name\">项目编号：</td>\n          <td>{{ project.no }}</td>\n          <td class=\"name\">设计阶段：</td>\n          <td>{{ project.stage }}</td>\n          <td class=\"name\">负责人：</td>\n          <td>{{ project.user }}</td>\n          <td class=\"name\">时间段：</td>\n          <td>{{ project.time }}</td>\n        </tr>\n        <tr>\n          <td class=\"name\">深度：</td>\n          <td>{{ project.deep }}</td>\n          <td class=\"name\">设计量系数：</td>\n          <td>{{ project.design_num }}</td>\n          <td class=\"name\">工作量系数</td>\n          <td></td>\n          <td colspan=\"2\"></td>\n        </tr>\n      </table>\n\n      <Alert style=\"margin-top: 15px\" show-icon>请认真填写项目报表。</Alert>\n      <table class=\"project-table\">\n        <tr>\n          <th style=\"width: 100px;\"></th>\n          <th v-for=\"section in project.sections\" :key=\"section.id\">\n            {{ section.name }}\n          </th>\n          <th>合计</th>\n          <th style=\"width: 80px;\">负责人系数</th>\n          <th style=\"width: 100px\">最终</th>\n        </tr>\n        <tr>\n          <td class=\"name\">评价百分比</td>\n          <td\n            class=\"name\"\n            v-for=\"section in project.sections\"\n            :key=\"section.id\"\n          >\n            {{ section.value }}%\n          </td>\n          <td></td>\n          <td></td>\n          <td></td>\n        </tr>\n        <!--<tr>-->\n        <!--<td>设计人员</td>-->\n        <!--<td :colspan=\"project.sections.length + 3\"></td>-->\n        <!--</tr>-->\n        <tr v-for=\"user in users\" :key=\"user.id\">\n          <td>【{{ user.name }}】</td>\n          <td\n            style=\"text-align: center\"\n            v-for=\"section in project.sections\"\n            :key=\"section.id\"\n          >\n            <InputNumber\n              size=\"small\"\n              :min=\"0\"\n              :max=\"100\"\n              v-model=\"model[user.id][section.id]\"\n              style=\"width: 100px\"\n              placeholder=\"请输入\"\n            />\n            %\n          </td>\n          <td>{{ getUserCount(user.id) }} %</td>\n          <td>{{ getNumber(user.id) }}</td>\n          <td style=\"font-weight: bold;color: #4d8dee;\">\n            {{ getTotal(user.id) }} %\n          </td>\n        </tr>\n        <tr>\n          <td class=\"name\">合计</td>\n          <td\n            style=\"text-align: center\"\n            v-for=\"section in project.sections\"\n            :key=\"section.id\"\n          >\n            {{ getSectionCount(section.id) }} %\n          </td>\n          <td></td>\n          <td></td>\n          <td></td>\n        </tr>\n      </table>\n\n      <div style=\"text-align: right\">\n        <Button\n          style=\"margin-top: 20px;width: 200px;\"\n          size=\"large\"\n          type=\"success\"\n          @click=\"onSubmit\"\n          >提交</Button\n        >\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport myService from \"@/services/my\";\nimport { mapState } from \"vuex\";\nexport default {\n  props: [\"id\"],\n  name: \"ProjectDetail\",\n  data() {\n    return {\n      project: {\n        sections: []\n      },\n      loading: true,\n      model: {}\n    };\n  },\n  computed: {\n    ...mapState(\"common\", [\"users\"])\n  },\n  methods: {\n    render() {\n      this.loading = true;\n      myService.project({ id: this.id }).then(rep => {\n        this.initModel(rep);\n\n        this.$nextTick(() => {\n          this.project = rep;\n          this.loading = false;\n        });\n      });\n    },\n    initModel(data) {\n      this.users.forEach(user => {\n        this.$set(this.model, user.id, {});\n        data.sections.forEach(section => {\n          this.$set(this.model[user.id], section.id, 0);\n        });\n      });\n    },\n    getSectionCount(section) {\n      if (this.project.id) {\n        let count = 0;\n        this.users.forEach(user => {\n          count += this.model[user.id][section];\n        });\n        return count.toFixed(1);\n      } else {\n        return \"-\";\n      }\n    },\n    getUserCount(id) {\n      let count = 0;\n      this.project.sections.forEach(section => {\n        count += this.model[id][section.id];\n      });\n\n      return count.toFixed(1);\n    },\n    getNumber(id) {\n      return this.project.user == id ? 1.2 : 1;\n    },\n    getTotal(id) {\n      const total = this.getUserCount(id) * this.getNumber(id);\n      return total.toFixed(1);\n    },\n    onBack() {\n      this.$emit(\"back\");\n    },\n    onSubmit() {\n      this.$Modal.confirm({\n        title: \"提示\",\n        content: \"确定提交当前填报内容吗？\",\n        onOk: () => {\n          const params = { project: this.id, data: [] };\n          this.users.forEach(user => {\n            this.project.sections.forEach(section => {\n              params.data.push({\n                user: user.id,\n                section: section.id,\n                value: this.model[user.id][section.id]\n              });\n            });\n          });\n\n          this.loading = true;\n          myService.score(params).then(rep => {\n            this.loading = false;\n            this.$Message.success(\"操作成功！\");\n          });\n        }\n      });\n    }\n  },\n  mounted() {\n    this.render();\n  }\n};\n</script>\n\n<style lang=\"less\">\n.project-detail {\n  height: 100%;\n  &__header {\n    font-size: 18px;\n    color: #383838;\n  }\n\n  .detail-table {\n    width: 100%;\n    border-collapse: collapse;\n    td {\n      height: 32px;\n      width: 15%;\n      border: 1px solid #ddd;\n      padding: 0 10px;\n      font-weight: bold;\n      &.name {\n        width: 10%;\n        font-weight: normal;\n        text-align: right;\n        background-color: #f1f1f1;\n      }\n    }\n  }\n\n  .project-table {\n    width: 100%;\n    border-collapse: collapse;\n    td,\n    th {\n      height: 40px;\n      border: 1px solid #ddd;\n      text-align: center;\n\n      &.name {\n        background-color: #f1f1f1;\n        text-align: center;\n      }\n    }\n\n    tr {\n      td:first-child {\n        text-align: center;\n      }\n    }\n\n    th {\n      background-color: #0099cc;\n      color: #fff;\n      text-align: center;\n      font-weight: bold;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProjectDetail.vue?vue&type=template&id=367a65e4&\"\nimport script from \"./ProjectDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./ProjectDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProjectDetail.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"ProjectDetail.vue\"\nexport default component.exports","<template>\n  <div class=\"my-project\">\n    <Spin v-show=\"loading\" fix></Spin>\n    <div v-show=\"!selectId\" class=\"my-project__header\">\n      共有 <span>{{ list.length }}</span> 个负责项目\n    </div>\n    <div v-show=\"!selectId\" class=\"my-project__content\">\n      <div\n        class=\"my-project-list\"\n        v-for=\"item in list\"\n        :key=\"item.id\"\n        @click=\"onSelect(item)\"\n      >\n        <div class=\"my-project-list__item\">\n          <div class=\"item__content\">\n            <h5>{{ item.name }}</h5>\n          </div>\n          <div class=\"item__shadow\"></div>\n        </div>\n      </div>\n    </div>\n    <project-detail\n      @back=\"onBack\"\n      v-if=\"selectId\"\n      :id=\"selectId\"\n    ></project-detail>\n  </div>\n</template>\n<script>\nimport myService from \"@/services/my\";\nimport ProjectDetail from \"./ProjectDetail\";\nexport default {\n  name: \"MyProject\",\n  components: { ProjectDetail },\n  data() {\n    return {\n      list: [],\n      selectId: null,\n      loading: true\n    };\n  },\n  methods: {\n    render() {\n      this.loading = true;\n      myService.project().then(rep => {\n        this.list = rep;\n        this.loading = false;\n      });\n    },\n    onSelect(project) {\n      this.selectId = project.id;\n    },\n    onBack() {\n      this.selectId = null;\n    }\n  },\n  mounted() {\n    this.render();\n  }\n};\n</script>\n\n<style lang=\"less\">\n.my-project {\n  height: 100%;\n  padding: 20px;\n  &__header {\n    font-size: 18px;\n    color: #383838;\n    span {\n      color: #4d8dee;\n    }\n  }\n\n  &-list {\n    display: flex;\n    align-items: stretch;\n    flex-wrap: wrap;\n    margin-top: 20px;\n    justify-content: flex-start;\n    &__item {\n      width: 248px;\n      height: 124px;\n      background-image: url(\"~@/assets/images/cover-media.jpg\");\n      box-shadow: 1px 1px 0 rgba(56, 56, 56, 0.15);\n      border-radius: 4px;\n      cursor: pointer;\n      transition: transform 0.218s ease, -webkit-transform 0.218s ease;\n      transform: translateY(0);\n      position: relative;\n\n      &:hover {\n        transform: translateY(-4px);\n      }\n      h5 {\n        color: #fff;\n        font-size: 16px;\n        z-index: 1;\n      }\n\n      .item__content {\n        top: 0;\n        left: 0;\n        height: 100%;\n        width: 100%;\n        z-index: 1;\n        padding: 10px;\n        position: absolute;\n        transition: transform 0.218s ease, -webkit-transform 0.218s ease;\n        box-shadow: 0 0 0 rgba(56, 56, 56, 0.15);\n        &:hover {\n          box-shadow: 0 6px 12px rgba(56, 56, 56, 0.1);\n        }\n      }\n\n      .item__shadow {\n        background-image: linear-gradient(\n          180deg,\n          rgba(56, 56, 56, 0.35) 0%,\n          rgba(56, 56, 56, 0)\n        );\n        background-repeat: repeat-x;\n        filter: progid:DXImageTransform.Microsoft.gradient(startColorstr=\"#59383838\",endColorstr=\"#00383838\",GradientType=0);\n        position: absolute;\n        top: 0;\n        left: 0;\n        height: 100%;\n        width: 100%;\n        border-radius: 4px 4px 0 0;\n        z-index: 0;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyProject.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyProject.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MyProject.vue?vue&type=template&id=3ab7e2bc&\"\nimport script from \"./MyProject.vue?vue&type=script&lang=js&\"\nexport * from \"./MyProject.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MyProject.vue?vue&type=style&index=0&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"MyProject.vue\"\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetail.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProjectDetail.vue?vue&type=style&index=0&lang=less&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyProject.vue?vue&type=style&index=0&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MyProject.vue?vue&type=style&index=0&lang=less&\""],"sourceRoot":""}